# ElectroLab AI - 电路仿真器项目演示
> 赋能电子学习，融合 AI 的下一代电路仿真工具

---

## Slide 1: 项目封面

**标题**: ElectroLab AI - 智能电路仿真器
**副标题**: 基于 Web 的可视化电路构建与实时仿真平台
**汇报人**: [您的名字]

---

## Slide 2: 项目背景与目标

### 痛点分析
*   **传统工具复杂**: 专业的 SPICE 软件（如 LTspice）对初学者门槛过高。
*   **缺乏直观性**: 抽象的公式和静态图表难以展示电流的动态流动。
*   **缺少实时反馈**: 学生在搭建电路时无法即时获得错误提示或原理解释。

### 项目目标
*   打造一个 **低门槛、可视化、实时交互** 的 Web 电路模拟器。
*   利用 **AI 技术** (Gemini) 提供智能辅助教学。
*   支持 **多语言** (中/英)，服务全球用户。

---

## Slide 3: 核心功能概览

1.  **拖拽式电路构建**: 
    *   提供丰富的元件库（电阻、电池、开关、电容、电感等）。
    *   基于 SVG 的交互式画布，支持吸附对齐。
2.  **实时物理仿真**: 
    *   修改参数即时计算电压、电流。
    *   支持瞬态分析（RC/RL 电路的充放电过程）。
3.  **动态可视化**: 
    *   电子流向动画（速度随电流大小变化）。
    *   灯泡亮度随功率变化。
4.  **AI 智能助手**: 
    *   集成 Google Gemini 模型，实时回答电路原理问题。
5.  **多语言支持**: 
    *   一键切换中英文界面。

---

## Slide 4: 技术架构

**前端框架**: React 18 + TypeScript
**构建工具**: Vite
**样式方案**: Tailwind CSS
**核心模块**:
*   **UI 层**: `CircuitCanvas` (SVG 渲染), `Toolbar`, `PropertiesPanel`
*   **逻辑层**: `App.tsx` (状态管理 & 物理循环)
*   **计算层**: `solver.ts` (MNA 算法引擎)
*   **服务层**: `geminiService.ts` (AI API 集成)

---

## Slide 5: 核心算法 - 电路求解器 (Solver)

### Modified Nodal Analysis (MNA) - 改进节点分析法
*   **原理**: 将电路转换为线性方程组 $Ax = Z$。
    *   **矩阵 A**: 包含元件的电导（$G = 1/R$）及连接关系。
    *   **向量 x**: 待求解的节点电压和电压源电流。
    *   **向量 Z**: 包含独立源（电压/电流）。
*   **数学工具**: 高斯消元法 (Gaussian Elimination) 求解矩阵。

### 瞬态分析 (Transient Analysis)
*   **对象**: 电容 (C) 和 电感 (L)。
*   **方法**: 后向欧拉法 (Backward Euler) 数值积分。
    *   **离散化**: 将微分方程转化为差分方程。
    *   **等效模型**: 在每个时间步 `dt`，将电容/电感等效为“伴随模型”（电阻 + 电流源）。

---

## Slide 6: 可视化实现细节

### SVG 渲染引擎
*   使用 SVG `<line>`, `<circle>`, `<path>` 绘制矢量元件。
*   利用 React 状态驱动 SVG 属性更新，保证高性能渲染。

### 电子流动动画
*   **视觉隐喻**: 黄色小球代表电子流。
*   **动态速度**:
    ```typescript
    // 动画周期与电流成反比
    dur={`${Math.max(0.2, 1/Math.abs(current * 5))}s`}
    ```
*   **方向控制**: 根据求解出的电流正负值，动态调整 SVG 路径方向。

### 物理循环 (Physics Loop)
*   使用 `requestAnimationFrame` 维持仿真步进。
*   每帧调用 `solveCircuit` 计算新状态 -> 更新 React State -> 触发重绘。

---

## Slide 7: AI 赋能 - 智能实验室助手

### 功能逻辑
1.  **上下文注入**: 将当前电路的拓扑结构（元件列表、连接关系、参数值）序列化为 JSON。
2.  **Prompt 工程**: 构建提示词，让 AI 扮演“电子工程专家”。
3.  **交互流程**:
    *   用户提问：“为什么这个灯泡不亮？”
    *   系统发送：电路数据 + 用户问题 -> Gemini API。
    *   AI 返回：基于当前电路状态的具体分析（例如：“因为开关 S1 处于断开状态...”）。

---

## Slide 8: 国际化 (i18n) 设计

### 架构设计
*   **字典文件**: `utils/i18n.ts` 存储中英文键值对结构。
*   **Context API**: `contexts/LanguageContext.tsx` 提供全局语言状态流。
*   **自定义 Hook**: `useLanguage()` 提供 `t('key')` 函数，在组件中按需获取文本。

### 优势
*   **轻量级**: 不依赖庞大的第三方库（如 i18next），适合本项目规模。
*   **类型安全**: TypeScript 确保翻译 Key 的正确性。

---

## Slide 9: 局限性与未来展望

### 当前局限 (Limitations)
1.  **非线性元件**: 目前仅支持线性元件，暂不支持二极管、晶体管（需引入牛顿迭代法）。
2.  **交流分析**: 仅支持时域瞬态，缺乏频域分析（波特图）。

### 未来规划 (Roadmap)
1.  **引入非线性求解器**: 支持 BJT, MOSFET, 二极管。
2.  **示波器功能**: 绘制电压/电流随时间变化的波形图。
3.  **云端存储**: 保存和分享电路设计。

---

## Slide 10: 总结

**ElectroLab AI** 是一个现代化的电路仿真教学工具。
*   **技术上**: 实现了从底层数学求解到上层 UI 渲染的完整链路。
*   **体验上**: 通过可视化和 AI 降低了电路学习的门槛。
*   **架构上**: 清晰的模块划分，易于扩展和维护。

---

## Slide 11: 谢谢大家 (Q&A)

*   **GitHub Repo**: [项目链接]
*   **Live Demo**: [演示链接]

欢迎提问！

